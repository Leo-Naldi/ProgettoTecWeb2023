import{Q as w}from"./QInput.c0248187.js";import{_ as b,d as S,W as h,r as v,a4 as V,C as i,D as q,E as F,F as y,X as P,a5 as k,a6 as l,G as u,H as s}from"./index.b8bea508.js";import"./use-dark.880f3e4e.js";import"./focus-manager.05708ea9.js";const B=S({name:"ForgotPassword",setup(){const{required:e,email:t}=P(),{isLoading:c,checkMail:d,forgetPassword:m}=h(),p=v(null),n=V(),a=v({email:void 0});return{form:p,required:e,email:t,user:a,isLoading:c,onSubmit:async()=>{const o=a.value.email,_={email:o};try{const r=await d(_);if(r.email!==!1){h().setVerifyEmail(o),k().setStoredUserJson(r.user);try{await m(_)===200&&n.push("/login/verify-code")}catch(g){l("mail verification failed due to unexpected error: ",g)}}else l("mail inserted not registered! Please change one!")}catch(r){l("unexpected error occured while verify the validation of mail, please try again latter! "+r)}}}}}),M={class:"q-pt-lg row justify-between"},C={class:"col-6"},E={class:"row"},$=s("span",null,"Have credentials?",-1),L={class:"col-6 text-right"};function N(e,t,c,d,m,p){const n=i("router-link"),a=i("MyButton"),f=i("MyForm");return q(),F(f,{ref:"form",onSubmit:e.onSubmit},{default:y(()=>[u(w,{modelValue:e.user.email,"onUpdate:modelValue":t[0]||(t[0]=o=>e.user.email=o),label:"Email",rules:[o=>e.required(o,"Email"),o=>e.email(o)],class:"q-pt-md"},null,8,["modelValue","rules"]),s("div",M,[s("div",C,[s("div",E,[u(n,{to:{name:"Login"},class:"col-12"},{default:y(()=>[$]),_:1})])]),s("div",L,[u(a,{label:"Send","aria-label":"SendForgetPassRequests",type:"submit",loading:e.isLoading},null,8,["loading"])])])]),_:1},8,["onSubmit"])}var R=b(B,[["render",N]]);export{R as default};
