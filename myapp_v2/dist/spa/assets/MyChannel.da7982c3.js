import{Q as m}from"./QInput.c0248187.js";import{Q as p}from"./QCheckbox.952440f4.js";import{Z as g,a5 as x,S as c,D as q,a9 as Q,H as a,G as l,F as o,Q as f,ab as V}from"./index.b8bea508.js";import{Q as S}from"./QForm.0a780925.js";import{Q as y,C as w}from"./CloseDialog.f0183c26.js";import{Q as h}from"./QList.97ee5378.js";import{Q as v}from"./QSeparator.92a6cda9.js";import{C}from"./ChannelEnum.33074358.js";import"./use-dark.880f3e4e.js";import"./focus-manager.05708ea9.js";import"./ClosePopup.da0077f2.js";import"./QResizeObserver.231b9bb5.js";import"./QCardActions.f9bcb485.js";import"./QItem.ea7b6016.js";import"./ChannelButton.4b56e50f.js";const D={style:{display:"flex","justify-content":"right","align-items":"flex-end"}},J={style:{"align-self":"right"}},U={class:"col-md-4 col-sm-5 col-xs-12 q-gutter-y-md q-pt-md q-pl-md q-pb-md"},j=a("p",{class:"text-weight-bold text-h6",align:"center"}," Created Channel",-1),N=a("p",{class:"q-mt-none text-weight-bold text-h5 q-pl-lg q-pt-lg"}," Your Created Channels ",-1),B={class:"q-pa-md"},O=a("p",{class:"q-mt-none text-weight-bold text-h5 q-pl-lg q-pt-lg"}," Your Joined Channels ",-1),F={class:"q-pa-md"},W={__name:"MyChannel",setup(P){const b=g(),r=x().getUserJson,d=c({userCreated:r.createdChannels,userJoined:r.joinedChannels}),n=c({name:"",description:"",publicChannel:!0,official:!1});function _(i){return Object.entries(i).reduce((t,[e,s])=>(s!==""&&((e==="publicChannel"&&s!=!0||e==="official"&&s!=!1&&r.admin)&&(t[e]=s),e!="publicChannel"&&e!="official"&&(t[e]=s)),t),{})}const u=async()=>{if(n.name!=""){const i=JSON.parse(JSON.stringify(n)),t=_(i),e=await b.createChannel(n.name,t);e.length>1&&d.userCreated.unshift(e[1])}};return(i,t)=>(q(),Q(V,null,[a("div",D,[a("div",J,[l(f,{flat:"",round:"",size:"md",icon:"group_add",onClick:t[5]||(t[5]=e=>u())},{default:o(()=>[l(y,null,{default:o(()=>[l(w,null,{default:o(()=>[a("div",U,[j,l(S,{onSubmit:t[4]||(t[4]=e=>u()),class:"q-gutter-md"},{default:o(()=>[l(m,{class:"col",outlined:"",dense:"",square:"",label:"name",rules:[e=>!!e||"Name is required"],modelValue:n.name,"onUpdate:modelValue":t[0]||(t[0]=e=>n.name=e)},null,8,["rules","modelValue"]),l(m,{type:"textarea",outlined:"",dense:"",square:"",label:"personal descriptions",modelValue:n.description,"onUpdate:modelValue":t[1]||(t[1]=e=>n.description=e)},null,8,["modelValue"]),a("div",null,[l(p,{modelValue:n.publicChannel,"onUpdate:modelValue":t[2]||(t[2]=e=>n.publicChannel=e),label:"Set Public"},null,8,["modelValue"])]),a("div",null,[l(p,{modelValue:n.official,"onUpdate:modelValue":t[3]||(t[3]=e=>n.official=e),label:"Set Official"},null,8,["modelValue"])]),l(f,{label:"create channel",type:"submit",color:"primary",unelevated:""})]),_:1})])]),_:1})]),_:1})]),_:1})])]),N,a("div",B,[l(h,{style:{"max-width":"450px"}},{default:o(()=>[l(C,{channels:d.userCreated,clickable:""},null,8,["channels"])]),_:1})]),l(v,{color:"grey-2",size:"3px"}),O,a("div",F,[l(h,{style:{"max-width":"450px"}},{default:o(()=>[l(C,{channels:d.userJoined,clickable:""},null,8,["channels"])]),_:1})])],64))}};export{W as default};
