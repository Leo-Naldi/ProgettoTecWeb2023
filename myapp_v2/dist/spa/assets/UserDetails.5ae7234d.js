import{Q as D}from"./WritePost.1ecdca4f.js";import{_ as C,a4 as R,Y as U,a5 as A,r as H,S as P,w as L,b as V,D as t,E as c,F as n,k as S,aT as Z,br as $,bs as E,H as s,G as l,a9 as u,x as I,ai as p,aE as F,a8 as m,a7 as _,bc as x,Q as v,aa as k,ab as b,ae as w,a0 as G,a1 as J}from"./index.b8bea508.js";import{Q as j}from"./QSeparator.92a6cda9.js";import{a as f}from"./QItem.ea7b6016.js";import{Q as M}from"./QList.97ee5378.js";import{Q as T}from"./QPage.0605acda.js";import{S as q}from"./ShowPost.46485ab7.js";import"./QInput.c0248187.js";import"./use-dark.880f3e4e.js";import"./focus-manager.05708ea9.js";import"./CloseDialog.f0183c26.js";import"./ClosePopup.da0077f2.js";import"./QResizeObserver.231b9bb5.js";import"./QCardActions.f9bcb485.js";import"./QForm.0a780925.js";import"./QCheckbox.952440f4.js";import"./format.3e32b8d9.js";import"./map.c8319187.js";const y=h=>(G("data-v-8173d3fe"),h=h(),J(),h),W={class:"column",style:{height:"35rem"}},Y={class:"col bg-blue-grey-11"},K={class:"avatar"},O=y(()=>s("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1)),X={key:0},ee={class:"col q-pa-lg"},se=y(()=>s("br",null,null,-1)),te=y(()=>s("br",null,null,-1)),ae={class:"q-mt-md"},re={class:"text-bold"},oe={class:"text-grey-7 text-caption"},le={class:"text-grey-7"},ie={class:"text-grey-7 text-caption"},ne=y(()=>s("span",{class:"text-grey-7 text-caption q-mr-md"},"Followed channels",-1)),de=y(()=>s("span",{class:"text-grey-7 text-caption q-mr-md"},"Co-editor channels",-1)),ce={key:0,style:{display:"flex","align-items":"center","justify-content":"center"}},ue={key:0,style:{display:"flex","align-items":"center","justify-content":"center"}},pe={key:0,style:{display:"flex","align-items":"center","justify-content":"center"}},me={__name:"UserDetails",setup(h){const B=R(),z=U();A();const d=H("posts"),g=r=>{d.value=r},a=P({userName:null,handle:null,verified:!1,description:"Hi~",joined_channels:0,co_edited_channels:0,created:NaN,liked:null}),i=P({userPosts:null,userReplies:null,userMedias:null,userAgrees:null}),Q=async r=>{i.userPosts=await z.fetchUserPosts(r),i.userMedias=S(()=>i.userPosts.filter(e=>e.content!==void 0&&e.content.image!=null)),i.userReplies=S(()=>i.userPosts.filter(e=>e.answering!==void 0))},N=async r=>{const e=await Z(r);return a.handle=e.handle,a.userName=e.username,a.verified=e.verified,a.description=e.description,a.joined_channels=e.joinedChannels,a.co_edited_channels=e.editorChannels,a.liked=e.liked,i.userAgrees=await $(r),a.created=E(new Date(e.meta.created),"MMMM yyyy"),e};return L(()=>B.currentRoute.value.params,async r=>{r.userId&&(Q(r.userId),N(r.userId))},{deep:!1,immediate:!0}),V(()=>{const r=B.currentRoute.value.params.userId;typeof r!="undefined"&&(Q(r),N(r))}),(r,e)=>(t(),c(T,null,{default:n(()=>[s("div",W,[s("div",Y,[l(D,{src:"https://images.unsplash.com/photo-1696219852009-3d231b68538a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw0fHx8ZW58MHx8fHx8&auto=format&fit=crop&w=900&q=60",alt:"cover_img",style:{"max-width":"100%",height:"100%"}}),s("div",K,[l(F,{size:"9rem",color:"blue-6","text-color":"white"},{default:n(()=>[O,a.verified?(t(),u("div",X,[l(I,{name:"fa-solid fa-circle-check",class:"verified",size:"3.5rem"})])):p("",!0)]),_:1})])]),l(j,{size:"0.25rem",color:"grey-2",class:"divider"}),s("div",ee,[se,te,s("div",ae,[l(f,{class:"text-subtitle1 flex justify-between"},{default:n(()=>[s("div",re,m(a.userName),1),s("span",oe,[l(I,{name:"calendar_month",size:"xs",class:"q-mr-sm"}),_("Joined at "+m(a.created),1)])]),_:1}),l(f,{class:"text-body2"},{default:n(()=>[s("span",le,"@"+m(a.handle),1)]),_:1}),l(f,null,{default:n(()=>[s("span",ie,m(a.description==""?"Hi guys! nice to meet u!":a.description),1)]),_:1}),l(f,{class:"text-subtitle1 flex"},{default:n(()=>[s("strong",null,[_(m(a.joined_channels.length)+" ",1),ne]),s("strong",null,[_(m(a.co_edited_channels.length)+" ",1),de])]),_:1})]),l(f,{class:"nav-option text-subtitle1 flex justify-around q-py-md q-mt-lg"},{default:n(()=>[s("strong",{onClick:e[0]||(e[0]=o=>g("posts")),style:x([d.value==="posts"?{borderBottom:"2px solid #1da1f2"}:{borderBottom:"2px solid transparent"}])},[l(v,{flat:"",round:"",color:"grey",icon:"reply_all",size:"sm"}),_("Posts")],4),s("strong",{onClick:e[1]||(e[1]=o=>g("replies")),style:x([d.value==="replies"?{borderBottom:"2px solid #1da1f2"}:{borderBottom:"2px solid transparent"}])},[l(v,{flat:"",round:"",color:"grey",icon:"question_answer",size:"sm"}),_("Replies")],4),s("strong",{onClick:e[2]||(e[2]=o=>g("media")),style:x([d.value==="media"?{borderBottom:"2px solid #1da1f2"}:{borderBottom:"2px solid transparent"}])},[l(v,{flat:"",round:"",color:"grey",icon:"movie",size:"sm"}),_("Media")],4),s("strong",{onClick:e[3]||(e[3]=o=>g("likes")),style:x([d.value==="likes"?{borderBottom:"2px solid #1da1f2"}:{borderBottom:"2px solid transparent"}])},[l(v,{flat:"",round:"",color:"grey",icon:"thumb_up",size:"sm"}),_("Likes")],4)]),_:1})])]),l(j,{size:"0.1rem",color:"grey-1",style:{"margin-top":"-2rem"}}),s("div",null,[d.value==="posts"?(t(),c(M,{key:0,separator:""},{default:n(()=>[(t(!0),u(b,null,k(i.userPosts,o=>(t(),c(q,w({key:o.id},o,{class:"q-py-md",clickable:""}),null,16))),128)),s("p",null,m(i.userPosts),1)]),_:1})):p("",!0),d.value==="replies"?(t(),c(M,{key:1,separator:""},{default:n(()=>[(t(!0),u(b,null,k(i.userReplies,o=>(t(),c(q,w({key:o.id},o,{canModify:!0,class:"q-py-md",clickable:""}),null,16))),128)),i.userReplies.length<=0?(t(),u("p",ce,"No user Replies!")):p("",!0)]),_:1})):p("",!0),d.value==="media"?(t(),c(M,{key:2,separator:""},{default:n(()=>[(t(!0),u(b,null,k(i.userMedias,o=>(t(),c(q,w({canModify:!0,key:o.id},o,{class:"q-py-md",clickable:""}),null,16))),128)),i.userMedias.length<=0?(t(),u("p",ue,"No user Medias!")):p("",!0)]),_:1})):p("",!0),d.value==="likes"?(t(),c(M,{key:3,separator:""},{default:n(()=>[(t(!0),u(b,null,k(i.userAgrees,o=>(t(),c(q,w({key:o.id},o,{class:"q-py-md",clickable:""}),null,16))),128)),i.userAgrees.length<=0?(t(),u("p",pe,"No user Likes!")):p("",!0)]),_:1})):p("",!0)])]),_:1}))}};var je=C(me,[["__scopeId","data-v-8173d3fe"]]);export{je as default};
