import{k as M,bm as ht,bn as Bt,c as gt,r as R,w as ye,h as f,T as He,e as yt,g as Mt,b7 as Nt,n as lt,Q as te,aw as Et,ac as Zt,v as zt,bk as Kt}from"./index.b8bea508.js";import{u as _t,a as Dt}from"./use-dark.880f3e4e.js";import{c as Lt}from"./CloseDialog.f0183c26.js";import{u as wt,j as bt,a as kt}from"./QInput.c0248187.js";import{p as Y}from"./format.3e32b8d9.js";import{T as Qt}from"./TouchPan.755f1f67.js";const ie=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function Pt(e,u,h){return Object.prototype.toString.call(e)==="[object Date]"&&(h=e.getDate(),u=e.getMonth()+1,e=e.getFullYear()),Jt(ot(e,u,h))}function it(e,u,h){return St(Wt(e,u,h))}function Rt(e){return Xt(e)===0}function Je(e,u){return u<=6?31:u<=11||Rt(e)?30:29}function Xt(e){const u=ie.length;let h=ie[0],c,m,i,b,v;if(e<h||e>=ie[u-1])throw new Error("Invalid Jalaali year "+e);for(v=1;v<u&&(c=ie[v],m=c-h,!(e<c));v+=1)h=c;return b=e-h,m-b<6&&(b=b-m+I(m+4,33)*33),i=X(X(b+1,33)-1,4),i===-1&&(i=4),i}function xt(e,u){const h=ie.length,c=e+621;let m=-14,i=ie[0],b,v,D,T,y;if(e<i||e>=ie[h-1])throw new Error("Invalid Jalaali year "+e);for(y=1;y<h&&(b=ie[y],v=b-i,!(e<b));y+=1)m=m+I(v,33)*8+I(X(v,33),4),i=b;T=e-i,m=m+I(T,33)*8+I(X(T,33)+3,4),X(v,33)===4&&v-T===4&&(m+=1);const S=I(c,4)-I((I(c,100)+1)*3,4)-150,K=20+m-S;return u||(v-T<6&&(T=T-v+I(v+4,33)*33),D=X(X(T+1,33)-1,4),D===-1&&(D=4)),{leap:D,gy:c,march:K}}function Wt(e,u,h){const c=xt(e,!0);return ot(c.gy,3,c.march)+(u-1)*31-I(u,7)*(u-7)+h-1}function Jt(e){const u=St(e).gy;let h=u-621,c,m,i;const b=xt(h,!1),v=ot(u,3,b.march);if(i=e-v,i>=0){if(i<=185)return m=1+I(i,31),c=X(i,31)+1,{jy:h,jm:m,jd:c};i-=186}else h-=1,i+=179,b.leap===1&&(i+=1);return m=7+I(i,30),c=X(i,30)+1,{jy:h,jm:m,jd:c}}function ot(e,u,h){let c=I((e+I(u-8,6)+100100)*1461,4)+I(153*X(u+9,12)+2,5)+h-34840408;return c=c-I(I(e+100100+I(u-8,6),100)*3,4)+752,c}function St(e){let u=4*e+139361631;u=u+I(I(4*e+183187720,146097)*3,4)*4-3908;const h=I(X(u,1461),4)*5+308,c=I(X(h,153),5)+1,m=X(I(h,153),12)+1;return{gy:I(u,1461)-100100+I(8-m,6),gm:m,gd:c}}function I(e,u){return~~(e/u)}function X(e,u){return e-~~(e/u)*u}const Ut=["gregorian","persian"],qt={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>Ut.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},Yt=["update:modelValue"];function ne(e){return e.year+"/"+Y(e.month)+"/"+Y(e.day)}function Ct(e,u){const h=M(()=>e.disable!==!0&&e.readonly!==!0),c=M(()=>h.value===!0?0:-1),m=M(()=>{const v=[];return e.color!==void 0&&v.push(`bg-${e.color}`),e.textColor!==void 0&&v.push(`text-${e.textColor}`),v.join(" ")});function i(){return e.locale!==void 0?{...u.lang.date,...e.locale}:u.lang.date}function b(v){const D=new Date,T=v===!0?null:0;if(e.calendar==="persian"){const y=Pt(D);return{year:y.jy,month:y.jm,day:y.jd}}return{year:D.getFullYear(),month:D.getMonth()+1,day:D.getDate(),hour:T,minute:T,second:T,millisecond:T}}return{editable:h,tabindex:c,headerClass:m,getLocale:i,getCurrentDate:b}}const Ht=864e5,pt=36e5,ut=6e4,Ot="YYYY-MM-DDTHH:mm:ss.SSSZ",Gt=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,ea=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,at={};function ta(e,u){const h="("+u.days.join("|")+")",c=e+h;if(at[c]!==void 0)return at[c];const m="("+u.daysShort.join("|")+")",i="("+u.months.join("|")+")",b="("+u.monthsShort.join("|")+")",v={};let D=0;const T=e.replace(ea,S=>{switch(D++,S){case"YY":return v.YY=D,"(-?\\d{1,2})";case"YYYY":return v.YYYY=D,"(-?\\d{1,4})";case"M":return v.M=D,"(\\d{1,2})";case"MM":return v.M=D,"(\\d{2})";case"MMM":return v.MMM=D,b;case"MMMM":return v.MMMM=D,i;case"D":return v.D=D,"(\\d{1,2})";case"Do":return v.D=D++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return v.D=D,"(\\d{2})";case"H":return v.H=D,"(\\d{1,2})";case"HH":return v.H=D,"(\\d{2})";case"h":return v.h=D,"(\\d{1,2})";case"hh":return v.h=D,"(\\d{2})";case"m":return v.m=D,"(\\d{1,2})";case"mm":return v.m=D,"(\\d{2})";case"s":return v.s=D,"(\\d{1,2})";case"ss":return v.s=D,"(\\d{2})";case"S":return v.S=D,"(\\d{1})";case"SS":return v.S=D,"(\\d{2})";case"SSS":return v.S=D,"(\\d{3})";case"A":return v.A=D,"(AM|PM)";case"a":return v.a=D,"(am|pm)";case"aa":return v.aa=D,"(a\\.m\\.|p\\.m\\.)";case"ddd":return m;case"dddd":return h;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return v.Z=D,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return v.ZZ=D,"(Z|[+-]\\d{2}\\d{2})";case"X":return v.X=D,"(-?\\d+)";case"x":return v.x=D,"(-?\\d{4,})";default:return D--,S[0]==="["&&(S=S.substring(1,S.length-1)),S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),y={map:v,regex:new RegExp("^"+T)};return at[c]=y,y}function It(e,u){return e!==void 0?e:u!==void 0?u.date:Bt.date}function st(e,u=""){const h=e>0?"-":"+",c=Math.abs(e),m=Math.floor(c/60),i=c%60;return h+Y(m)+u+Y(i)}function Ae(e,u,h,c,m){const i={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(m!==void 0&&Object.assign(i,m),e==null||e===""||typeof e!="string")return i;u===void 0&&(u=Ot);const b=It(h,ht.props),v=b.months,D=b.monthsShort,{regex:T,map:y}=ta(u,b),S=e.match(T);if(S===null)return i;let K="";if(y.X!==void 0||y.x!==void 0){const N=parseInt(S[y.X!==void 0?y.X:y.x],10);if(isNaN(N)===!0||N<0)return i;const L=new Date(N*(y.X!==void 0?1e3:1));i.year=L.getFullYear(),i.month=L.getMonth()+1,i.day=L.getDate(),i.hour=L.getHours(),i.minute=L.getMinutes(),i.second=L.getSeconds(),i.millisecond=L.getMilliseconds()}else{if(y.YYYY!==void 0)i.year=parseInt(S[y.YYYY],10);else if(y.YY!==void 0){const N=parseInt(S[y.YY],10);i.year=N<0?N:2e3+N}if(y.M!==void 0){if(i.month=parseInt(S[y.M],10),i.month<1||i.month>12)return i}else y.MMM!==void 0?i.month=D.indexOf(S[y.MMM])+1:y.MMMM!==void 0&&(i.month=v.indexOf(S[y.MMMM])+1);if(y.D!==void 0){if(i.day=parseInt(S[y.D],10),i.year===null||i.month===null||i.day<1)return i;const N=c!=="persian"?new Date(i.year,i.month,0).getDate():Je(i.year,i.month);if(i.day>N)return i}y.H!==void 0?i.hour=parseInt(S[y.H],10)%24:y.h!==void 0&&(i.hour=parseInt(S[y.h],10)%12,(y.A&&S[y.A]==="PM"||y.a&&S[y.a]==="pm"||y.aa&&S[y.aa]==="p.m.")&&(i.hour+=12),i.hour=i.hour%24),y.m!==void 0&&(i.minute=parseInt(S[y.m],10)%60),y.s!==void 0&&(i.second=parseInt(S[y.s],10)%60),y.S!==void 0&&(i.millisecond=parseInt(S[y.S],10)*10**(3-S[y.S].length)),(y.Z!==void 0||y.ZZ!==void 0)&&(K=y.Z!==void 0?S[y.Z].replace(":",""):S[y.ZZ],i.timezoneOffset=(K[0]==="+"?-1:1)*(60*K.slice(1,3)+1*K.slice(3,5)))}return i.dateHash=Y(i.year,6)+"/"+Y(i.month)+"/"+Y(i.day),i.timeHash=Y(i.hour)+":"+Y(i.minute)+":"+Y(i.second)+K,i}function ct(e){const u=new Date(e.getFullYear(),e.getMonth(),e.getDate());u.setDate(u.getDate()-(u.getDay()+6)%7+3);const h=new Date(u.getFullYear(),0,4);h.setDate(h.getDate()-(h.getDay()+6)%7+3);const c=u.getTimezoneOffset()-h.getTimezoneOffset();u.setHours(u.getHours()-c);const m=(u-h)/(Ht*7);return 1+Math.floor(m)}function le(e,u,h){const c=new Date(e),m=`set${h===!0?"UTC":""}`;switch(u){case"year":case"years":c[`${m}Month`](0);case"month":case"months":c[`${m}Date`](1);case"day":case"days":case"date":c[`${m}Hours`](0);case"hour":case"hours":c[`${m}Minutes`](0);case"minute":case"minutes":c[`${m}Seconds`](0);case"second":case"seconds":c[`${m}Milliseconds`](0)}return c}function We(e,u,h){return(e.getTime()-e.getTimezoneOffset()*ut-(u.getTime()-u.getTimezoneOffset()*ut))/h}function Vt(e,u,h="days"){const c=new Date(e),m=new Date(u);switch(h){case"years":case"year":return c.getFullYear()-m.getFullYear();case"months":case"month":return(c.getFullYear()-m.getFullYear())*12+c.getMonth()-m.getMonth();case"days":case"day":case"date":return We(le(c,"day"),le(m,"day"),Ht);case"hours":case"hour":return We(le(c,"hour"),le(m,"hour"),pt);case"minutes":case"minute":return We(le(c,"minute"),le(m,"minute"),ut);case"seconds":case"second":return We(le(c,"second"),le(m,"second"),1e3)}}function dt(e){return Vt(e,le(e,"year"),"days")+1}function vt(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const ft={YY(e,u,h){const c=this.YYYY(e,u,h)%100;return c>=0?Y(c):"-"+Y(Math.abs(c))},YYYY(e,u,h){return h!=null?h:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return Y(e.getMonth()+1)},MMM(e,u){return u.monthsShort[e.getMonth()]},MMMM(e,u){return u.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return vt(this.Q(e))},D(e){return e.getDate()},Do(e){return vt(e.getDate())},DD(e){return Y(e.getDate())},DDD(e){return dt(e)},DDDD(e){return Y(dt(e),3)},d(e){return e.getDay()},dd(e,u){return this.dddd(e,u).slice(0,2)},ddd(e,u){return u.daysShort[e.getDay()]},dddd(e,u){return u.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return ct(e)},ww(e){return Y(ct(e))},H(e){return e.getHours()},HH(e){return Y(e.getHours())},h(e){const u=e.getHours();return u===0?12:u>12?u%12:u},hh(e){return Y(this.h(e))},m(e){return e.getMinutes()},mm(e){return Y(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return Y(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return Y(Math.floor(e.getMilliseconds()/10))},SSS(e){return Y(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,u,h,c){const m=c==null?e.getTimezoneOffset():c;return st(m,":")},ZZ(e,u,h,c){const m=c==null?e.getTimezoneOffset():c;return st(m)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function Tt(e,u,h,c,m){if(e!==0&&!e||e===1/0||e===-1/0)return;const i=new Date(e);if(isNaN(i))return;u===void 0&&(u=Ot);const b=It(h,ht.props);return u.replace(Gt,(v,D)=>v in ft?ft[v](i,b,c,m):D===void 0?v:D.split("\\]").join("]"))}const ge=20,aa=["Calendar","Years","Months"],mt=e=>aa.includes(e),nt=e=>/^-?[\d]+\/[0-1]\d$/.test(e),Ce=" \u2014 ";function re(e){return e.year+"/"+Y(e.month)}var da=gt({name:"QDate",props:{...qt,...wt,..._t,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:nt},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:nt},navigationMaxYearMonth:{type:String,validator:nt},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:mt}},emits:[...Yt,"rangeStart","rangeEnd","navigation"],setup(e,{slots:u,emit:h}){const{proxy:c}=Mt(),{$q:m}=c,i=Dt(e,m),{getCache:b}=Lt(),{tabindex:v,headerClass:D,getLocale:T,getCurrentDate:y}=Ct(e,m);let S;const K=bt(e),N=kt(K),L=R(null),W=R(Se()),V=R(T()),Be=M(()=>Se()),Me=M(()=>T()),k=M(()=>y()),o=R(Re(W.value,V.value)),H=R(e.defaultView),Ne=m.lang.rtl===!0?"right":"left",ue=R(Ne.value),E=R(Ne.value),Oe=o.value.year,se=R(Oe-Oe%ge-(Oe<0?ge:0)),Z=R(null),ce=M(()=>{const t=e.landscape===!0?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${e.minimal===!0?"minimal":"standard"}`+(i.value===!0?" q-date--dark q-dark":"")+(e.bordered===!0?" q-date--bordered":"")+(e.square===!0?" q-date--square no-border-radius":"")+(e.flat===!0?" q-date--flat no-shadow":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-date--readonly":"")}),J=M(()=>e.color||"primary"),U=M(()=>e.textColor||"white"),z=M(()=>e.emitImmediately===!0&&e.multiple!==!0&&e.range!==!0),ae=M(()=>Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue!==null&&e.modelValue!==void 0?[e.modelValue]:[]),B=M(()=>ae.value.filter(t=>typeof t=="string").map(t=>je(t,W.value,V.value)).filter(t=>t.dateHash!==null&&t.day!==null&&t.month!==null&&t.year!==null)),p=M(()=>{const t=a=>je(a,W.value,V.value);return ae.value.filter(a=>Nt(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:t(a.from),to:t(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),_e=M(()=>e.calendar!=="persian"?t=>new Date(t.year,t.month-1,t.day):t=>{const a=it(t.year,t.month,t.day);return new Date(a.gy,a.gm-1,a.gd)}),Ie=M(()=>e.calendar==="persian"?ne:(t,a,n)=>Tt(new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond),a===void 0?W.value:a,n===void 0?V.value:n,t.year,t.timezoneOffset)),oe=M(()=>B.value.length+p.value.reduce((t,a)=>t+1+Vt(_e.value(a.to),_e.value(a.from)),0)),de=M(()=>{if(e.title!==void 0&&e.title!==null&&e.title.length!==0)return e.title;if(Z.value!==null){const n=Z.value.init,s=_e.value(n);return V.value.daysShort[s.getDay()]+", "+V.value.monthsShort[n.month-1]+" "+n.day+Ce+"?"}if(oe.value===0)return Ce;if(oe.value>1)return`${oe.value} ${V.value.pluralDay}`;const t=B.value[0],a=_e.value(t);return isNaN(a.valueOf())===!0?Ce:V.value.headerTitle!==void 0?V.value.headerTitle(a,t):V.value.daysShort[a.getDay()]+", "+V.value.monthsShort[t.month-1]+" "+t.day}),Ee=M(()=>B.value.concat(p.value.map(a=>a.from)).sort((a,n)=>a.year-n.year||a.month-n.month)[0]),Ve=M(()=>B.value.concat(p.value.map(a=>a.to)).sort((a,n)=>n.year-a.year||n.month-a.month)[0]),Ze=M(()=>{if(e.subtitle!==void 0&&e.subtitle!==null&&e.subtitle.length!==0)return e.subtitle;if(oe.value===0)return Ce;if(oe.value>1){const t=Ee.value,a=Ve.value,n=V.value.monthsShort;return n[t.month-1]+(t.year!==a.year?" "+t.year+Ce+n[a.month-1]+" ":t.month!==a.month?Ce+n[a.month-1]:"")+" "+a.year}return B.value[0].year}),De=M(()=>{const t=[m.iconSet.datetime.arrowLeft,m.iconSet.datetime.arrowRight];return m.lang.rtl===!0?t.reverse():t}),we=M(()=>e.firstDayOfWeek!==void 0?Number(e.firstDayOfWeek):V.value.firstDayOfWeek),Te=M(()=>{const t=V.value.daysShort,a=we.value;return a>0?t.slice(a,7).concat(t.slice(0,a)):t}),G=M(()=>{const t=o.value;return e.calendar!=="persian"?new Date(t.year,t.month,0).getDate():Je(t.year,t.month)}),ze=M(()=>typeof e.eventColor=="function"?e.eventColor:()=>e.eventColor),$=M(()=>{if(e.navigationMinYearMonth===void 0)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),A=M(()=>{if(e.navigationMaxYearMonth===void 0)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}}),Fe=M(()=>{const t={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return $.value!==null&&$.value.year>=o.value.year&&(t.year.prev=!1,$.value.year===o.value.year&&$.value.month>=o.value.month&&(t.month.prev=!1)),A.value!==null&&A.value.year<=o.value.year&&(t.year.next=!1,A.value.year===o.value.year&&A.value.month<=o.value.month&&(t.month.next=!1)),t}),be=M(()=>{const t={};return B.value.forEach(a=>{const n=re(a);t[n]===void 0&&(t[n]=[]),t[n].push(a.day)}),t}),Ke=M(()=>{const t={};return p.value.forEach(a=>{const n=re(a.from),s=re(a.to);if(t[n]===void 0&&(t[n]=[]),t[n].push({from:a.from.day,to:n===s?a.to.day:void 0,range:a}),n<s){let d;const{year:C,month:g}=a.from,x=g<12?{year:C,month:g+1}:{year:C+1,month:1};for(;(d=re(x))<=s;)t[d]===void 0&&(t[d]=[]),t[d].push({from:void 0,to:d===s?a.to.day:void 0,range:a}),x.month++,x.month>12&&(x.year++,x.month=1)}}),t}),ve=M(()=>{if(Z.value===null)return;const{init:t,initHash:a,final:n,finalHash:s}=Z.value,[d,C]=a<=s?[t,n]:[n,t],g=re(d),x=re(C);if(g!==Q.value&&x!==Q.value)return;const O={};return g===Q.value?(O.from=d.day,O.includeFrom=!0):O.from=1,x===Q.value?(O.to=C.day,O.includeTo=!0):O.to=G.value,O}),Q=M(()=>re(o.value)),Ue=M(()=>{const t={};if(e.options===void 0){for(let n=1;n<=G.value;n++)t[n]=!0;return t}const a=typeof e.options=="function"?e.options:n=>e.options.includes(n);for(let n=1;n<=G.value;n++){const s=Q.value+"/"+Y(n);t[n]=a(s)}return t}),pe=M(()=>{const t={};if(e.events===void 0)for(let a=1;a<=G.value;a++)t[a]=!1;else{const a=typeof e.events=="function"?e.events:n=>e.events.includes(n);for(let n=1;n<=G.value;n++){const s=Q.value+"/"+Y(n);t[n]=a(s)===!0&&ze.value(s)}}return t}),ke=M(()=>{let t,a;const{year:n,month:s}=o.value;if(e.calendar!=="persian")t=new Date(n,s-1,1),a=new Date(n,s-1,0).getDate();else{const d=it(n,s,1);t=new Date(d.gy,d.gm-1,d.gd);let C=s-1,g=n;C===0&&(C=12,g--),a=Je(g,C)}return{days:t.getDay()-we.value-1,endDay:a}}),fe=M(()=>{const t=[],{days:a,endDay:n}=ke.value,s=a<0?a+7:a;if(s<6)for(let g=n-s;g<=n;g++)t.push({i:g,fill:!0});const d=t.length;for(let g=1;g<=G.value;g++){const x={i:g,event:pe.value[g],classes:[]};Ue.value[g]===!0&&(x.in=!0,x.flat=!0),t.push(x)}if(be.value[Q.value]!==void 0&&be.value[Q.value].forEach(g=>{const x=d+g-1;Object.assign(t[x],{selected:!0,unelevated:!0,flat:!1,color:J.value,textColor:U.value})}),Ke.value[Q.value]!==void 0&&Ke.value[Q.value].forEach(g=>{if(g.from!==void 0){const x=d+g.from-1,O=d+(g.to||G.value)-1;for(let $e=x;$e<=O;$e++)Object.assign(t[$e],{range:g.range,unelevated:!0,color:J.value,textColor:U.value});Object.assign(t[x],{rangeFrom:!0,flat:!1}),g.to!==void 0&&Object.assign(t[O],{rangeTo:!0,flat:!1})}else if(g.to!==void 0){const x=d+g.to-1;for(let O=d;O<=x;O++)Object.assign(t[O],{range:g.range,unelevated:!0,color:J.value,textColor:U.value});Object.assign(t[x],{flat:!1,rangeTo:!0})}else{const x=d+G.value-1;for(let O=d;O<=x;O++)Object.assign(t[O],{range:g.range,unelevated:!0,color:J.value,textColor:U.value})}}),ve.value!==void 0){const g=d+ve.value.from-1,x=d+ve.value.to-1;for(let O=g;O<=x;O++)t[O].color=J.value,t[O].editRange=!0;ve.value.includeFrom===!0&&(t[g].editRangeFrom=!0),ve.value.includeTo===!0&&(t[x].editRangeTo=!0)}o.value.year===k.value.year&&o.value.month===k.value.month&&(t[d+k.value.day-1].today=!0);const C=t.length%7;if(C>0){const g=7-C;for(let x=1;x<=g;x++)t.push({i:x,fill:!0})}return t.forEach(g=>{let x="q-date__calendar-item ";g.fill===!0?x+="q-date__calendar-item--fill":(x+=`q-date__calendar-item--${g.in===!0?"in":"out"}`,g.range!==void 0&&(x+=` q-date__range${g.rangeTo===!0?"-to":g.rangeFrom===!0?"-from":""}`),g.editRange===!0&&(x+=` q-date__edit-range${g.editRangeFrom===!0?"-from":""}${g.editRangeTo===!0?"-to":""}`),(g.range!==void 0||g.editRange===!0)&&(x+=` text-${g.color}`)),g.classes=x}),t}),xe=M(()=>e.disable===!0?{"aria-disabled":"true"}:{});ye(()=>e.modelValue,t=>{if(S===t)S=0;else{const a=Re(W.value,V.value);j(a.year,a.month,a)}}),ye(H,()=>{L.value!==null&&c.$el.contains(document.activeElement)===!0&&L.value.focus()}),ye(()=>o.value.year+"|"+o.value.month,()=>{h("navigation",{year:o.value.year,month:o.value.month})}),ye(Be,t=>{rt(t,V.value,"mask"),W.value=t}),ye(Me,t=>{rt(W.value,t,"locale"),V.value=t});function Le(){const{year:t,month:a,day:n}=k.value,s={...o.value,year:t,month:a,day:n},d=be.value[re(s)];(d===void 0||d.includes(s.day)===!1)&&Ge(s),me(s.year,s.month)}function Qe(t){mt(t)===!0&&(H.value=t)}function Pe(t,a){["month","year"].includes(t)&&(t==="month"?r:_)(a===!0?-1:1)}function me(t,a){H.value="Calendar",j(t,a)}function he(t,a){if(e.range===!1||!t){Z.value=null;return}const n=Object.assign({...o.value},t),s=a!==void 0?Object.assign({...o.value},a):n;Z.value={init:n,initHash:ne(n),final:s,finalHash:ne(s)},me(n.year,n.month)}function Se(){return e.calendar==="persian"?"YYYY/MM/DD":e.mask}function je(t,a,n){return Ae(t,a,n,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Re(t,a){const n=Array.isArray(e.modelValue)===!0?e.modelValue:e.modelValue?[e.modelValue]:[];if(n.length===0)return l();const s=n[n.length-1],d=je(s.from!==void 0?s.from:s,t,a);return d.dateHash===null?l():d}function l(){let t,a;if(e.defaultYearMonth!==void 0){const n=e.defaultYearMonth.split("/");t=parseInt(n[0],10),a=parseInt(n[1],10)}else{const n=k.value!==void 0?k.value:y();t=n.year,a=n.month}return{year:t,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+Y(a)+"/01"}}function r(t){let a=o.value.year,n=Number(o.value.month)+t;n===13?(n=1,a++):n===0&&(n=12,a--),j(a,n),z.value===!0&&qe("month")}function _(t){const a=Number(o.value.year)+t;j(a,o.value.month),z.value===!0&&qe("year")}function q(t){j(t,o.value.month),H.value=e.defaultView==="Years"?"Months":"Calendar",z.value===!0&&qe("year")}function F(t){j(o.value.year,t),H.value="Calendar",z.value===!0&&qe("month")}function P(t,a){const n=be.value[a];(n!==void 0&&n.includes(t.day)===!0?et:Ge)(t)}function w(t){return{year:t.year,month:t.month,day:t.day}}function j(t,a,n){if($.value!==null&&t<=$.value.year&&((a<$.value.month||t<$.value.year)&&(a=$.value.month),t=$.value.year),A.value!==null&&t>=A.value.year&&((a>A.value.month||t>A.value.year)&&(a=A.value.month),t=A.value.year),n!==void 0){const{hour:d,minute:C,second:g,millisecond:x,timezoneOffset:O,timeHash:$e}=n;Object.assign(o.value,{hour:d,minute:C,second:g,millisecond:x,timezoneOffset:O,timeHash:$e})}const s=t+"/"+Y(a)+"/01";s!==o.value.dateHash&&(ue.value=o.value.dateHash<s==(m.lang.rtl!==!0)?"left":"right",t!==o.value.year&&(E.value=ue.value),lt(()=>{se.value=t-t%ge-(t<0?ge:0),Object.assign(o.value,{year:t,month:a,day:1,dateHash:s})}))}function ee(t,a,n){const s=t!==null&&t.length===1&&e.multiple===!1?t[0]:t;S=s;const{reason:d,details:C}=Xe(a,n);h("update:modelValue",s,d,C)}function qe(t){const a=B.value[0]!==void 0&&B.value[0].dateHash!==null?{...B.value[0]}:{...o.value};lt(()=>{a.year=o.value.year,a.month=o.value.month;const n=e.calendar!=="persian"?new Date(a.year,a.month,0).getDate():Je(a.year,a.month);a.day=Math.min(Math.max(1,a.day),n);const s=Ye(a);S=s;const{details:d}=Xe("",a);h("update:modelValue",s,t,d)})}function Xe(t,a){return a.from!==void 0?{reason:`${t}-range`,details:{...w(a.target),from:w(a.from),to:w(a.to)}}:{reason:`${t}-day`,details:w(a)}}function Ye(t,a,n){return t.from!==void 0?{from:Ie.value(t.from,a,n),to:Ie.value(t.to,a,n)}:Ie.value(t,a,n)}function Ge(t){let a;if(e.multiple===!0)if(t.from!==void 0){const n=ne(t.from),s=ne(t.to),d=B.value.filter(g=>g.dateHash<n||g.dateHash>s),C=p.value.filter(({from:g,to:x})=>x.dateHash<n||g.dateHash>s);a=d.concat(C).concat(t).map(g=>Ye(g))}else{const n=ae.value.slice();n.push(Ye(t)),a=n}else a=Ye(t);ee(a,"add",t)}function et(t){if(e.noUnset===!0)return;let a=null;if(e.multiple===!0&&Array.isArray(e.modelValue)===!0){const n=Ye(t);t.from!==void 0?a=e.modelValue.filter(s=>s.from!==void 0?s.from!==n.from&&s.to!==n.to:!0):a=e.modelValue.filter(s=>s!==n),a.length===0&&(a=null)}ee(a,"remove",t)}function rt(t,a,n){const s=B.value.concat(p.value).map(d=>Ye(d,t,a)).filter(d=>d.from!==void 0?d.from.dateHash!==null&&d.to.dateHash!==null:d.dateHash!==null);h("update:modelValue",(e.multiple===!0?s:s[0])||null,n)}function Ft(){if(e.minimal!==!0)return f("div",{class:"q-date__header "+D.value},[f("div",{class:"relative-position"},[f(He,{name:"q-transition--fade"},()=>f("div",{key:"h-yr-"+Ze.value,class:"q-date__header-subtitle q-date__header-link "+(H.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...b("vY",{onClick(){H.value="Years"},onKeyup(t){t.keyCode===13&&(H.value="Years")}})},[Ze.value]))]),f("div",{class:"q-date__header-title relative-position flex no-wrap"},[f("div",{class:"relative-position col"},[f(He,{name:"q-transition--fade"},()=>f("div",{key:"h-sub"+de.value,class:"q-date__header-title-label q-date__header-link "+(H.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:v.value,...b("vC",{onClick(){H.value="Calendar"},onKeyup(t){t.keyCode===13&&(H.value="Calendar")}})},[de.value]))]),e.todayBtn===!0?f(te,{class:"q-date__header-today self-start",icon:m.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:v.value,onClick:Le}):null])])}function tt({label:t,type:a,key:n,dir:s,goTo:d,boundaries:C,cls:g}){return[f("div",{class:"row items-center q-date__arrow"},[f(te,{round:!0,dense:!0,size:"sm",flat:!0,icon:De.value[0],tabindex:v.value,disable:C.prev===!1,...b("go-#"+a,{onClick(){d(-1)}})})]),f("div",{class:"relative-position overflow-hidden flex flex-center"+g},[f(He,{name:"q-transition--jump-"+s},()=>f("div",{key:n},[f(te,{flat:!0,dense:!0,noCaps:!0,label:t,tabindex:v.value,...b("view#"+a,{onClick:()=>{H.value=a}})})]))]),f("div",{class:"row items-center q-date__arrow"},[f(te,{round:!0,dense:!0,size:"sm",flat:!0,icon:De.value[1],tabindex:v.value,disable:C.next===!1,...b("go+#"+a,{onClick(){d(1)}})})])]}const jt={Calendar:()=>[f("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[f("div",{class:"q-date__navigation row items-center no-wrap"},tt({label:V.value.months[o.value.month-1],type:"Months",key:o.value.month,dir:ue.value,goTo:r,boundaries:Fe.value.month,cls:" col"}).concat(tt({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:_,boundaries:Fe.value.year,cls:""}))),f("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},Te.value.map(t=>f("div",{class:"q-date__calendar-item"},[f("div",t)]))),f("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[f(He,{name:"q-transition--slide-"+ue.value},()=>f("div",{key:Q.value,class:"q-date__calendar-days fit"},fe.value.map(t=>f("div",{class:t.classes},[t.in===!0?f(te,{class:t.today===!0?"q-date__today":"",dense:!0,flat:t.flat,unelevated:t.unelevated,color:t.color,textColor:t.textColor,label:t.i,tabindex:v.value,...b("day#"+t.i,{onClick:()=>{$t(t.i)},onMouseover:()=>{At(t.i)}})},t.event!==!1?()=>f("div",{class:"q-date__event bg-"+t.event}):null):f("div",""+t.i)]))))])])],Months(){const t=o.value.year===k.value.year,a=s=>$.value!==null&&o.value.year===$.value.year&&$.value.month>s||A.value!==null&&o.value.year===A.value.year&&A.value.month<s,n=V.value.monthsShort.map((s,d)=>{const C=o.value.month===d+1;return f("div",{class:"q-date__months-item flex flex-center"},[f(te,{class:t===!0&&k.value.month===d+1?"q-date__today":null,flat:C!==!0,label:s,unelevated:C,color:C===!0?J.value:null,textColor:C===!0?U.value:null,tabindex:v.value,disable:a(d+1),...b("month#"+d,{onClick:()=>{F(d+1)}})})])});return e.yearsInMonthView===!0&&n.unshift(f("div",{class:"row no-wrap full-width"},[tt({label:o.value.year,type:"Years",key:o.value.year,dir:E.value,goTo:_,boundaries:Fe.value.year,cls:" col"})])),f("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},n)},Years(){const t=se.value,a=t+ge,n=[],s=d=>$.value!==null&&$.value.year>d||A.value!==null&&A.value.year<d;for(let d=t;d<=a;d++){const C=o.value.year===d;n.push(f("div",{class:"q-date__years-item flex flex-center"},[f(te,{key:"yr"+d,class:k.value.year===d?"q-date__today":null,flat:!C,label:d,dense:!0,unelevated:C,color:C===!0?J.value:null,textColor:C===!0?U.value:null,tabindex:v.value,disable:s(d),...b("yr#"+d,{onClick:()=>{q(d)}})})]))}return f("div",{class:"q-date__view q-date__years flex flex-center"},[f("div",{class:"col-auto"},[f(te,{round:!0,dense:!0,flat:!0,icon:De.value[0],tabindex:v.value,disable:s(t),...b("y-",{onClick:()=>{se.value-=ge}})})]),f("div",{class:"q-date__years-content col self-stretch row items-center"},n),f("div",{class:"col-auto"},[f(te,{round:!0,dense:!0,flat:!0,icon:De.value[1],tabindex:v.value,disable:s(a),...b("y+",{onClick:()=>{se.value+=ge}})})])])}};function $t(t){const a={...o.value,day:t};if(e.range===!1){P(a,Q.value);return}if(Z.value===null){const n=fe.value.find(d=>d.fill!==!0&&d.i===t);if(e.noUnset!==!0&&n.range!==void 0){et({target:a,from:n.range.from,to:n.range.to});return}if(n.selected===!0){et(a);return}const s=ne(a);Z.value={init:a,initHash:s,final:a,finalHash:s},h("rangeStart",w(a))}else{const n=Z.value.initHash,s=ne(a),d=n<=s?{from:Z.value.init,to:a}:{from:a,to:Z.value.init};Z.value=null,Ge(n===s?a:{target:a,...d}),h("rangeEnd",{from:w(d.from),to:w(d.to)})}}function At(t){if(Z.value!==null){const a={...o.value,day:t};Object.assign(Z.value,{final:a,finalHash:ne(a)})}}return Object.assign(c,{setToday:Le,setView:Qe,offsetCalendar:Pe,setCalendarTo:me,setEditingRange:he}),()=>{const t=[f("div",{class:"q-date__content col relative-position"},[f(He,{name:"q-transition--fade"},jt[H.value])])],a=yt(u.default);return a!==void 0&&t.push(f("div",{class:"q-date__actions"},a)),e.name!==void 0&&e.disable!==!0&&N(t,"push"),f("div",{class:ce.value,...xe.value},[Ft(),f("div",{ref:L,class:"q-date__main col column",tabindex:-1},t)])}}});function na(e,u){if(e.hour!==null){if(e.minute===null)return"minute";if(u===!0&&e.second===null)return"second"}return"hour"}function la(){const e=new Date;return{hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}var va=gt({name:"QTime",props:{..._t,...wt,...qt,mask:{default:null},format24h:{type:Boolean,default:null},defaultDate:{type:String,validator:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e)},options:Function,hourOptions:Array,minuteOptions:Array,secondOptions:Array,withSeconds:Boolean,nowBtn:Boolean},emits:Yt,setup(e,{slots:u,emit:h}){const c=Mt(),{$q:m}=c.proxy,i=Dt(e,m),{tabindex:b,headerClass:v,getLocale:D,getCurrentDate:T}=Ct(e,m),y=bt(e),S=kt(y);let K,N;const L=R(null),W=M(()=>Ze()),V=M(()=>D()),Be=M(()=>De()),Me=Ae(e.modelValue,W.value,V.value,e.calendar,Be.value),k=R(na(Me)),o=R(Me),H=R(Me.hour===null||Me.hour<12),Ne=M(()=>`q-time q-time--${e.landscape===!0?"landscape":"portrait"}`+(i.value===!0?" q-time--dark q-dark":"")+(e.disable===!0?" disabled":e.readonly===!0?" q-time--readonly":"")+(e.bordered===!0?" q-time--bordered":"")+(e.square===!0?" q-time--square no-border-radius":"")+(e.flat===!0?" q-time--flat no-shadow":"")),ue=M(()=>{const l=o.value;return{hour:l.hour===null?"--":E.value===!0?Y(l.hour):String(H.value===!0?l.hour===0?12:l.hour:l.hour>12?l.hour-12:l.hour),minute:l.minute===null?"--":Y(l.minute),second:l.second===null?"--":Y(l.second)}}),E=M(()=>e.format24h!==null?e.format24h:m.lang.date.format24h),Oe=M(()=>{const l=k.value==="hour",r=l===!0?12:60,_=o.value[k.value];let F=`rotate(${Math.round(_*(360/r))-180}deg) translateX(-50%)`;return l===!0&&E.value===!0&&o.value.hour>=12&&(F+=" scale(.7)"),{transform:F}}),se=M(()=>o.value.hour!==null),Z=M(()=>se.value===!0&&o.value.minute!==null),ce=M(()=>e.hourOptions!==void 0?l=>e.hourOptions.includes(l):e.options!==void 0?l=>e.options(l,null,null):null),J=M(()=>e.minuteOptions!==void 0?l=>e.minuteOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,l,null):null),U=M(()=>e.secondOptions!==void 0?l=>e.secondOptions.includes(l):e.options!==void 0?l=>e.options(o.value.hour,o.value.minute,l):null),z=M(()=>{if(ce.value===null)return null;const l=de(0,11,ce.value),r=de(12,11,ce.value);return{am:l,pm:r,values:l.values.concat(r.values)}}),ae=M(()=>J.value!==null?de(0,59,J.value):null),B=M(()=>U.value!==null?de(0,59,U.value):null),p=M(()=>{switch(k.value){case"hour":return z.value;case"minute":return ae.value;case"second":return B.value}}),_e=M(()=>{let l,r,_=0,q=1;const F=p.value!==null?p.value.values:void 0;k.value==="hour"?E.value===!0?(l=0,r=23):(l=0,r=11,H.value===!1&&(_=12)):(l=0,r=55,q=5);const P=[];for(let w=l,j=l;w<=r;w+=q,j++){const ee=w+_,qe=F!==void 0&&F.includes(ee)===!1,Xe=k.value==="hour"&&w===0?E.value===!0?"00":"12":w;P.push({val:ee,index:j,disable:qe,label:Xe})}return P}),Ie=M(()=>[[Qt,G,void 0,{stop:!0,prevent:!0,mouse:!0}]]);ye(()=>e.modelValue,l=>{const r=Ae(l,W.value,V.value,e.calendar,Be.value);(r.dateHash!==o.value.dateHash||r.timeHash!==o.value.timeHash)&&(o.value=r,r.hour===null?k.value="hour":H.value=r.hour<12)}),ye([W,V],()=>{lt(()=>{Se()})});function oe(){const l={...T(),...la()};Se(l),Object.assign(o.value,l),k.value="hour"}function de(l,r,_){const q=Array.apply(null,{length:r+1}).map((F,P)=>{const w=P+l;return{index:w,val:_(w)===!0}}).filter(F=>F.val===!0).map(F=>F.index);return{min:q[0],max:q[q.length-1],values:q,threshold:r+1}}function Ee(l,r,_){const q=Math.abs(l-r);return Math.min(q,_-q)}function Ve(l,{min:r,max:_,values:q,threshold:F}){if(l===r)return r;if(l<r||l>_)return Ee(l,r,F)<=Ee(l,_,F)?r:_;const P=q.findIndex(ee=>l<=ee),w=q[P-1],j=q[P];return l-w<=j-l?w:j}function Ze(){return e.calendar!=="persian"&&e.mask!==null?e.mask:`HH:mm${e.withSeconds===!0?":ss":""}`}function De(){if(typeof e.defaultDate!="string"){const l=T(!0);return l.dateHash=ne(l),l}return Ae(e.defaultDate,"YYYY/MM/DD",void 0,e.calendar)}function we(){return zt(c)===!0||p.value!==null&&(p.value.values.length===0||k.value==="hour"&&E.value!==!0&&z.value[H.value===!0?"am":"pm"].values.length===0)}function Te(){const l=L.value,{top:r,left:_,width:q}=l.getBoundingClientRect(),F=q/2;return{top:r+F,left:_+F,dist:F*.7}}function G(l){if(we()!==!0){if(l.isFirst===!0){K=Te(),N=$(l.evt,K);return}N=$(l.evt,K,N),l.isFinal===!0&&(K=!1,N=null,ze())}}function ze(){k.value==="hour"?k.value="minute":e.withSeconds&&k.value==="minute"&&(k.value="second")}function $(l,r,_){const q=Et(l),F=Math.abs(q.top-r.top),P=Math.sqrt(Math.pow(Math.abs(q.top-r.top),2)+Math.pow(Math.abs(q.left-r.left),2));let w,j=Math.asin(F/P)*(180/Math.PI);if(q.top<r.top?j=r.left<q.left?90-j:270+j:j=r.left<q.left?j+90:270-j,k.value==="hour"){if(w=j/30,z.value!==null){const ee=E.value!==!0?H.value===!0:z.value.am.values.length!==0&&z.value.pm.values.length!==0?P>=r.dist:z.value.am.values.length!==0;w=Ve(w+(ee===!0?0:12),z.value[ee===!0?"am":"pm"])}else w=Math.round(w),E.value===!0?P<r.dist?w<12&&(w+=12):w===12&&(w=0):H.value===!0&&w===12?w=0:H.value===!1&&w!==12&&(w+=12);E.value===!0&&(H.value=w<12)}else w=Math.round(j/6)%60,k.value==="minute"&&ae.value!==null?w=Ve(w,ae.value):k.value==="second"&&B.value!==null&&(w=Ve(w,B.value));return _!==w&&Le[k.value](w),w}const A={hour(){k.value="hour"},minute(){k.value="minute"},second(){k.value="second"}};function Fe(l){l.keyCode===13&&Qe()}function be(l){l.keyCode===13&&Pe()}function Ke(l){we()!==!0&&(m.platform.is.desktop!==!0&&$(l,Te()),ze())}function ve(l){we()!==!0&&$(l,Te())}function Q(l){if(l.keyCode===13)k.value="hour";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(z.value!==null){const _=E.value===!0?z.value.values:z.value[H.value===!0?"am":"pm"].values;if(_.length===0)return;if(o.value.hour===null)ke(_[0]);else{const q=(_.length+_.indexOf(o.value.hour)+r)%_.length;ke(_[q])}}else{const _=E.value===!0?24:12,q=E.value!==!0&&H.value===!1?12:0,F=o.value.hour===null?-r:o.value.hour;ke(q+(24+F+r)%_)}}}function Ue(l){if(l.keyCode===13)k.value="minute";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(ae.value!==null){const _=ae.value.values;if(_.length===0)return;if(o.value.minute===null)fe(_[0]);else{const q=(_.length+_.indexOf(o.value.minute)+r)%_.length;fe(_[q])}}else{const _=o.value.minute===null?-r:o.value.minute;fe((60+_+r)%60)}}}function pe(l){if(l.keyCode===13)k.value="second";else if([37,39].includes(l.keyCode)){const r=l.keyCode===37?-1:1;if(B.value!==null){const _=B.value.values;if(_.length===0)return;if(o.value.seconds===null)xe(_[0]);else{const q=(_.length+_.indexOf(o.value.second)+r)%_.length;xe(_[q])}}else{const _=o.value.second===null?-r:o.value.second;xe((60+_+r)%60)}}}function ke(l){o.value.hour!==l&&(o.value.hour=l,he())}function fe(l){o.value.minute!==l&&(o.value.minute=l,he())}function xe(l){o.value.second!==l&&(o.value.second=l,he())}const Le={hour:ke,minute:fe,second:xe};function Qe(){H.value===!1&&(H.value=!0,o.value.hour!==null&&(o.value.hour-=12,he()))}function Pe(){H.value===!0&&(H.value=!1,o.value.hour!==null&&(o.value.hour+=12,he()))}function me(l){const r=e.modelValue;k.value!==l&&r!==void 0&&r!==null&&r!==""&&typeof r!="string"&&(k.value=l)}function he(){if(ce.value!==null&&ce.value(o.value.hour)!==!0){o.value=Ae(),me("hour");return}if(J.value!==null&&J.value(o.value.minute)!==!0){o.value.minute=null,o.value.second=null,me("minute");return}if(e.withSeconds===!0&&U.value!==null&&U.value(o.value.second)!==!0){o.value.second=null,me("second");return}o.value.hour===null||o.value.minute===null||e.withSeconds===!0&&o.value.second===null||Se()}function Se(l){const r=Object.assign({...o.value},l),_=e.calendar==="persian"?Y(r.hour)+":"+Y(r.minute)+(e.withSeconds===!0?":"+Y(r.second):""):Tt(new Date(r.year,r.month===null?null:r.month-1,r.day,r.hour,r.minute,r.second,r.millisecond),W.value,V.value,r.year,r.timezoneOffset);r.changed=_!==e.modelValue,h("update:modelValue",_,r)}function je(){const l=[f("div",{class:"q-time__link "+(k.value==="hour"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:A.hour,onKeyup:Q},ue.value.hour),f("div",":"),f("div",se.value===!0?{class:"q-time__link "+(k.value==="minute"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:Ue,onClick:A.minute}:{class:"q-time__link"},ue.value.minute)];e.withSeconds===!0&&l.push(f("div",":"),f("div",Z.value===!0?{class:"q-time__link "+(k.value==="second"?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onKeyup:pe,onClick:A.second}:{class:"q-time__link"},ue.value.second));const r=[f("div",{class:"q-time__header-label row items-center no-wrap",dir:"ltr"},l)];return E.value===!1&&r.push(f("div",{class:"q-time__header-ampm column items-between no-wrap"},[f("div",{class:"q-time__link "+(H.value===!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Qe,onKeyup:Fe},"AM"),f("div",{class:"q-time__link "+(H.value!==!0?"q-time__link--active":"cursor-pointer"),tabindex:b.value,onClick:Pe,onKeyup:be},"PM")])),f("div",{class:"q-time__header flex flex-center no-wrap "+v.value},r)}function Re(){const l=o.value[k.value];return f("div",{class:"q-time__content col relative-position"},[f(He,{name:"q-transition--scale"},()=>f("div",{key:"clock"+k.value,class:"q-time__container-parent absolute-full"},[f("div",{ref:L,class:"q-time__container-child fit overflow-hidden"},[Zt(f("div",{class:"q-time__clock cursor-pointer non-selectable",onClick:Ke,onMousedown:ve},[f("div",{class:"q-time__clock-circle fit"},[f("div",{class:"q-time__clock-pointer"+(o.value[k.value]===null?" hidden":e.color!==void 0?` text-${e.color}`:""),style:Oe.value}),_e.value.map(r=>f("div",{class:`q-time__clock-position row flex-center q-time__clock-pos-${r.index}`+(r.val===l?" q-time__clock-position--active "+v.value:r.disable===!0?" q-time__clock-position--disable":"")},[f("span",r.label)]))])]),Ie.value)])])),e.nowBtn===!0?f(te,{class:"q-time__now-button absolute",icon:m.iconSet.datetime.now,unelevated:!0,size:"sm",round:!0,color:e.color,textColor:e.textColor,tabindex:b.value,onClick:oe}):null])}return c.proxy.setNow=oe,()=>{const l=[Re()],r=yt(u.default);return r!==void 0&&l.push(f("div",{class:"q-time__actions"},r)),e.name!==void 0&&e.disable!==!0&&S(l,"push"),f("div",{class:Ne.value,tabindex:-1},[je(),f("div",{class:"q-time__main col overflow-auto"},l)])}}});const fa=Kt("search",{state:()=>({searchKeyword:"",searchFilter:{}}),getters:{getSearchKeyword(e){return e.searchKeyword},getSearchFilter(e){return e.searchFilter}},actions:{setSearchKeyword(e){this.searchKeyword=e},setSearchFilter(e){this.searchFilter=e}}});export{da as Q,va as a,fa as u};
