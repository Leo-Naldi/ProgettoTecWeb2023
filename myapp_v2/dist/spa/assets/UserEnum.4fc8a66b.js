import{_ as q,Z as C,j as k,a4 as B,r as g,D as i,a9 as o,ab as w,aa as A,ac as x,aD as S,E as $,F as l,G as a,aE as I,a7 as _,a8 as f,ai as m,Q as p,aG as u,a0 as E,a1 as H,H as v}from"./index.b8bea508.js";import{Q as y,a as D,b as Q}from"./QItem.ea7b6016.js";const R={setup(){const e=C(),n=k("channelDetails"),t=B();return{channelStore:e,channelDetails:n,router:t,gotoUserDetail:r=>{t.push({name:"userDetail",params:{userId:r}})},handlerRes:0}},props:{request_member:{type:Boolean,default:!1},request_editor:{type:Boolean,default:!1},admin_member:{type:Boolean,default:!1},admin_editor:{type:Boolean,default:!1},showAdminButton:{type:Boolean,default:!1},member_handler:{type:Boolean,default:!1},request_handler:{type:Boolean,default:!1},members:{type:Array,default:()=>[]}},data(){const e=this.$props.request_member||this.$props.request_editor||this.$props.admin_member||this.$props.admin_editor||this.$props.showAdminButton||this.$props.request_handler,n=g(e?this.$props.admin_member?this.channelDetails.members:this.$props.admin_editor?this.channelDetails.editors:this.$props.request_member?this.channelDetails.member_requests_json:this.channelDetails.editor_requests_json:this.$props.members);return{if_for_channel:e,users:n}},methods:{findAndDelete(e){let n=this.users.findIndex(t=>t.handle===e);this.users.splice(n,1)},async refuseHandler(e){this.$props.request_member?(await this.channelStore.refuseChannelMemberRequest(this.channelDetails.name,e),this.findAndDelete(e)):this.$props.request_editor&&(await this.channelStore.refuseChannelEditorRequest(this.channelDetails.name,e),this.findAndDelete(e))},async consentHandler(e){this.$props.request_member?(await this.channelStore.acceptChannelMember(this.channelDetails.name,e),this.findAndDelete(e)):this.$props.request_editor&&(await this.channelStore.acceptChannelEditor(this.channelDetails.name,e),this.findAndDelete(e))},async removeHandler(e){this.$props.admin_member?(await this.channelStore.removeChannelMember(this.channelDetails.name,e),this.findAndDelete(e)):this.$props.admin_editor&&(await this.channelStore.removeChannelEditor(this.channelDetails.name,e),this.findAndDelete(e))}}},b=e=>(E("data-v-96bc27de"),e=e(),H(),e),U={style:{"align-items":"center"}},j=b(()=>v("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1)),M={key:0,class:"q-ml-sm rounded-rectangle"},N=b(()=>v("p",{style:{display:"inline"}},"Admin",-1)),V=[N],z={key:0,style:{"margin-left":"auto"}},F={key:1,style:{"margin-left":"auto"}};function G(e,n,t,d,c,r){return i(),o("div",U,[(i(!0),o(w,null,A(c.users,s=>x((i(),$(Q,{key:s.id,style:{disply:"flex"},class:"q-mb-sm",onClick:h=>d.gotoUserDetail(s.handle),clickable:""},{default:l(()=>[a(y,{avatar:""},{default:l(()=>[a(I,null,{default:l(()=>[j]),_:1})]),_:1}),a(y,null,{default:l(()=>[a(D,{style:{display:"flex","align-items":"center"}},{default:l(()=>[_(f(s.handle)+" ",1),c.if_for_channel&&d.channelDetails.name!=""&&s.accountType=="admin"?(i(),o("div",M,V)):m("",!0)]),_:2},1024),a(D,{caption:""},{default:l(()=>[_(f(s.username),1)]),_:2},1024)]),_:2},1024),t.request_handler&&t.showAdminButton?(i(),o("div",z,[a(p,{onClick:u(h=>r.refuseHandler(s.handle),["stop","prevent"]),size:"12px",flat:"",dense:"",round:"",icon:"close"},null,8,["onClick"]),a(p,{onClick:u(h=>r.consentHandler(s.handle),["stop","prevent"]),size:"12px",flat:"",dense:"",round:"",icon:"done"},null,8,["onClick"])])):m("",!0),t.member_handler&&t.showAdminButton?(i(),o("div",F,[a(p,{onClick:u(h=>r.removeHandler(s.handle),["stop","prevent"]),size:"12px",flat:"",dense:"",round:"",icon:"person_remove"},null,8,["onClick"])])):m("",!0)]),_:2},1032,["onClick"])),[[S]])),128))])}var Z=q(R,[["render",G],["__scopeId","data-v-96bc27de"]]);export{Z as U};
